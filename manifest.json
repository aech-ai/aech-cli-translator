{
    "name": "translator",
    "type": "cli",
    "description": "Translate Markdown documents to other languages. Accepts a Markdown file and target language, produces translated Markdown and a QA report with quality assessment.",
    "command": "aech-cli-translator",
    "actions": [
        {
            "name": "translate",
            "description": "Translate a Markdown document to another language with QA verification. Input: Markdown file path. Output: <output-dir>/<stem>_<lang>.md (translated document) and <output-dir>/<stem>_translation_report.md (QA report with Pass/Needs Review/Fail assessment). Use when user needs a document translated to another language.",
            "parameters": [
                {
                    "name": "input_file",
                    "type": "argument",
                    "required": true,
                    "description": "Path to the Markdown file to translate."
                },
                {
                    "name": "target_lang",
                    "type": "argument",
                    "required": true,
                    "description": "Target language as ISO 639-1 code. Examples: es (Spanish), fr (French), de (German), ja (Japanese), zh (Chinese)."
                },
                {
                    "name": "context",
                    "type": "option",
                    "required": false,
                    "description": "Path to a Markdown file containing enterprise terminology, style guides, or glossary. Use when translation must follow specific brand voice or technical terms."
                },
                {
                    "name": "output-dir",
                    "type": "option",
                    "required": true,
                    "description": "Directory where output files will be written. Will be created if it doesn't exist."
                },
                {
                    "name": "verbose",
                    "type": "option",
                    "required": false,
                    "description": "Enable detailed logging to stderr. Use for debugging translation issues."
                }
            ]
        }
    ],
    "documentation": {
        "readme": "# Aech CLI Translator\n\nEnterprise translation workflow that leverages the Aech runtime. The CLI wraps three agents (translate, back-translate, audit) and exposes a single `translate` command.\n\n## What this CLI does (for Agent Aech)\n\n- Accepts: Markdown source file path, target language code, optional Markdown context/termbase, output directory.\n- Produces (in `output_dir`):\n  - Translation: `<stem>_<lang>.md` (Markdown only; render to DOCX/PDF for users).\n  - QA report: `<stem>_translation_report.md` with:\n    - Overall Quality Assessment: Pass / Needs Review / Fail.\n    - Key discrepancies (meaning/tone/terminology).\n    - Recommendations (what to fix if not Pass).\n- Offline-friendly: operates on local files only.\n- Expected automation: after running, render DOCX/PDF from the Markdown outputs, attach/link those user-friendly files, and include a short QA summary in the response to the requester (email/DM/ticket). Make clear whether it Passed or needs review and call out any specific risks.\n\n## Usage\n\nThe CLI uses an explicit `translate` subcommand. Invoke it with the source Markdown path and the target language, plus an output directory. Example:\n\n```\naech-cli-translator translate docs/blog.md es --output-dir build/locale --context termbase.md\n```\n\n- Command: `translate`\n- First positional: the input Markdown path.\n- Second positional: the target language code (e.g., `es`, `fr`, `de`).\n- `--output-dir` is required; `--context` is optional.\nNote: `aech-cli-translator --help` is reserved for the installer and emits the JSON manifest. For human-friendly help, use `aech-cli-translator translate --help`.\n\n## Expected automation workflow (agent script)\n\n1. Run the CLI with the userâ€™s source file, target language, optional context, and an output directory the user can access.\n2. Read the generated files:\n   - Translation: `<stem>_<lang>.md`.\n   - QA report: `<stem>_translation_report.md`.\n3. Respond to the requester (email/DM/ticket) and:\n   - Render and attach/link DOCX/PDF outputs (avoid raw Markdown unless requested).\n   - Summarize QA in 2-4 bullets: overall quality (Pass/Needs Review/Fail), notable discrepancies, and any recommendations.\n   - Call out any blockers (missing context file, unreadable source, etc.).\n\n## QA report format\n\nThe report is freeform Markdown generated by the QA agent. At minimum it should contain:\n- Overall Quality Assessment: Pass / Needs Review / Fail.\n- Key discrepancies: meaning, tone, terminology issues found via back-translation.\n- Recommendations: what to adjust in the translation.\n",
        "usage": "aech-cli-translator translate <input_file> <target_lang> --output-dir <dir> [--context <ctx>] [--verbose]",
        "outputs": {
            "translation_md": {
                "path": "<stem>_<lang>.md",
                "description": "Translated Markdown. Agent should render to user-friendly DOCX/PDF before delivery."
            },
            "qa_report_md": {
                "path": "<stem>_translation_report.md",
                "description": "QA Markdown (Pass/Needs Review/Fail, discrepancies, recommendations). Include a brief summary in the response."
            }
        },
        "automation_expectations": [
            "Render and attach/link DOCX and PDF outputs for the requester (avoid raw Markdown unless explicitly requested)",
            "Include a short QA summary: Pass/Needs Review/Fail, discrepancies, recommendations",
            "Call out blockers (missing context, unreadable source, conversion failures)"
        ],
        "qa_report_format": [
            "Overall Quality Assessment: Pass / Needs Review / Fail",
            "Key discrepancies: meaning/tone/terminology issues found via back-translation",
            "Recommendations: what to adjust in the translation"
        ]
    },
    "available_in_sandbox": true
}
